Sprint 001 – 2025-10-12
=======================

Context
- Scope: Gradio 5.49 migration clean-ups; remove fragile JS; enable SSR; prep docs and sprint logging.
- Goals: Paridade funcional com UI atual; menos dependência de DOM JS; documentação operacional.
- Constraints/flags: Gradio 5.49.1; SSR on (default); allowlist de JS opcional.

Completed
- SSR default habilitado (opt‑out via `GRADIO_SSR_MODE=0`).
- Allowlist/Denylist de JS por env (`GRADIO_JS_ALLOWLIST`, `GRADIO_JS_DENYLIST`).
- InputAccordion 100% Python (sem JS).
- Settings search 100% Python (sem JS).
- Extra Networks: adicionados controles de filtro/ordem com renderização no servidor (fase 1).
- Documentação: `codex/gradio5-migration-notes.md`, `codex/changelog-template.md`, `codex/sprint-guidelines.md`, template de sprint em `codex/sprint-logs/`.
- NEWS.md atualizado (SSR default + allowlist).

Files touched (key)
- `webui.py` (SSR default)
- `modules/ui_gradio_extensions.py` (allowlist/denylist JS)
- `modules/ui_components.py` (InputAccordion Python‑only)
- `modules/ui_settings.py` (Settings search Python‑only)
- `modules/ui_extra_networks.py` (filtro/ordem server‑side)
- `NEWS.md`, `codex/*`

Validation
- SSR on/off: página carrega corretamente em ambos modos; sem exceptions no console relacionadas a acordeões/busca.
- Geração txt2img/img2img e restauração de progresso OK.
- Settings search filtra elementos sem erros.
- Acordeões abrem/fecham sem JS.
- Extra Networks: controles Filter/Sort atualizam cards (server‑side) sem flicker.

Risks / Follow-ups
- Extensões que dependem de seletor DOM antigo ainda injetam JS: usar allowlist/denylist conforme necessário.
- Extra Networks fase 2: migrar cards para `gr.Dataset`/`gr.Gallery` nativos para remover HTML manual.
- Remover residual de cliques em DOM para trocas de aba (onde existirem) usando `gr.Tabs.update`.

Next Sprint
- Extra Networks (fase 2): protótipo com `gr.Dataset`/`gr.Gallery` + eventos de seleção; manter compat e feature flag.
- Documentar env vars no README + exemplos.

